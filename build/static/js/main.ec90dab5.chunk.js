(this["webpackJsonpsnapchat-clone"]=this["webpackJsonpsnapchat-clone"]||[]).push([[0],{53:function(e,a,t){},54:function(e,a,t){},58:function(e,a,t){},62:function(e,a,t){},67:function(e,a,t){"use strict";t.r(a);var c=t(2),n=t.n(c),r=t(27),s=t.n(r),i=(t(53),t(54),t(35)),o=t.n(i),l=t(36),j=t.n(l),u=t(25),d=t(28),m=Object(d.b)({name:"camera",initialState:{value:0,cameraImage:null},reducers:{setCameraImage:function(e,a){e.cameraImage=a.payload},resetCameraImage:function(e,a){e.cameraImage=null}}}),h=m.actions,b=h.setCameraImage,p=h.resetCameraImage,O=function(e){return e.camera.cameraImage},f=m.reducer,g=t(9),v=(t(58),t(6)),x={width:250,height:400,facingMode:"user"};var w=function(){var e=Object(c.useRef)(null),a=Object(u.b)(),t=Object(g.f)(),n=Object(c.useCallback)((function(){var c=e.current.getScreenshot();a(b(c)),t.push("/preview")}),[e]);return Object(v.jsxs)("div",{className:"webcamCapture",children:[Object(v.jsx)(o.a,{audio:!1,height:x.height,ref:e,width:x.width,videoConstraints:x,screenshotFormat:"image/jpeg"}),Object(v.jsx)(j.a,{className:"webcamCapture__button",onClick:n,fontSize:"large"})]})},I=t(47),_=(t(62),t(38)),C=t.n(_),N=t(39),k=t.n(N),y=t(40),S=t.n(y),A=t(41),B=t.n(A),z=t(42),D=t.n(z),F=t(43),M=t.n(F),P=t(44),R=t.n(P),W=t(45),E=t.n(W),J=t(46),Q=t.n(J),U=t(80),G=t(26),K=G.a.initializeApp({apiKey:"AIzaSyCrPQQNIh2ujh7Xs1eDvyFhWM3p5AhPBAc",authDomain:"snapchat-clone-6687e.firebaseapp.com",projectId:"snapchat-clone-6687e",storageBucket:"snapchat-clone-6687e.appspot.com",messagingSenderId:"151268407242",appId:"1:151268407242:web:938c900c0d28535f378133"}).firestore(),L=(G.a.auth(),G.a.storage());new G.a.auth.GoogleAuthProvider;var T=function(){var e=Object(u.c)(O),a=Object(g.f)(),t=Object(u.b)();return Object(c.useEffect)((function(){e||a.replace("/")}),[e,a]),Object(v.jsxs)("div",{className:"preview",children:[Object(v.jsx)(C.a,{onClick:function(){t(p())},className:"preview__close"}),Object(v.jsxs)("div",{className:"preview__toolbarRight",children:[Object(v.jsx)(k.a,{}),Object(v.jsx)(S.a,{}),Object(v.jsx)(B.a,{}),Object(v.jsx)(D.a,{}),Object(v.jsx)(M.a,{}),Object(v.jsx)(R.a,{}),Object(v.jsx)(E.a,{})]}),Object(v.jsx)("img",{src:e,alt:""}),Object(v.jsxs)("div",{onClick:function(){var t=Object(U.a)();L.ref("post/".concat(t)).putString(e,"data_url").on("state_changed",null,(function(e){console.log(e)}),(function(){L.ref("posts").child(t).getDownloadURL().then((function(e){K.collection("posts").add({imageUrl:e,username:"Ankit",read:!1,timestamp:G.a.firestore.FieldValue.serverTimestamp()}),a.replace("/chats")}))}))},className:"preview__footer",children:[Object(v.jsx)("h2",{children:"Send Now"}),Object(v.jsx)(Q.a,{fontSize:"small",className:"preview__sendIcon"})]})]})};var V=function(){return Object(v.jsx)("div",{className:"app",children:Object(v.jsx)(I.a,{children:Object(v.jsx)("div",{className:"app__body",children:Object(v.jsxs)(g.c,{children:[Object(v.jsx)(g.a,{exact:!0,path:"/",children:Object(v.jsx)(w,{})}),Object(v.jsx)(g.a,{exact:!0,path:"/preview",children:Object(v.jsx)(T,{})})]})})})})},X=Object(d.b)({name:"app",initialState:{value:0},reducers:{incrementByAmount:function(e,a){e.value+=a.payload}}}),$=(X.actions.incrementByAmount,X.reducer),q=Object(d.a)({reducer:{app:$,camera:f}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(u.a,{store:q,children:Object(v.jsx)(V,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[67,1,2]]]);
//# sourceMappingURL=main.ec90dab5.chunk.js.map